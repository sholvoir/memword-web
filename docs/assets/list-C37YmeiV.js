import{At as e,Dt as t,Ft as n,It as r,Mt as i,Ot as a,Pt as o,Tt as s,_t as c,vt as l,wt as u,yt as d}from"./dialog-rmDv0n4o.js";var f=s(`<div class="absolute border bg-(--bg-body) z-100 top-[calc(100%+4px)] inset-x-0 px-2">`),p=s(`<div><input class="w-full px-2">`),m=s(`<div>`),h=s=>{let[l,h]=r(s,[`class`,`binding`,`options`,`maxSuggest`,`onChange`]),[g,_]=l.binding,v=l.maxSuggest??12,[y,b]=o([]),x=()=>setTimeout(()=>b([]),200),S=e=>{e.stopPropagation(),e.key===`Enter`&&x()&&l.onChange?.(g())},C=e=>{let t=_(e.currentTarget.value);if(!t)return b([]);let n=[],r=[];for(let e of l.options)if(e.startsWith(t)?n.push(e):e.includes(t)&&r.push(e),n.length>=v)break;b(n.concat(r.slice(0,v-n.length)))},w=e=>{_(e.currentTarget.textContent??``),l.onChange?.(g())};return(()=>{var r=p(),o=r.firstChild;return u(o,n(h,{get value(){return g()},onBlur:x,onInput:C,onKeyUp:S}),!1,!1),d(r,e(a,{get when(){return y().length},get children(){var n=f();return d(n,e(t,{get each(){return y()},children:e=>(()=>{var t=m();return t.$$click=w,d(t,e),t})()})),n}}),null),i(()=>c(r,`inline-block relative ${l.class??``}`)),r})()};l([`click`]);var g=s(`<div>`),_=n=>{let[r,a]=n.cindex,o=(e,t)=>{t.stopPropagation(),a(e()),n.onClick&&(typeof n.onClick==`function`?n.onClick(t):n.onClick[0](n.onClick[1],t))};return e(t,{get each(){return n.options},children:(e,t)=>(()=>{var a=g();return a.$$click=o,a.$$clickData=t,d(a,()=>n.func(e)),i(()=>c(a,`${n.class??``} ${r()===t()?n.activeClass:``}`)),a})()})};l([`click`]);export{h as n,_ as t};